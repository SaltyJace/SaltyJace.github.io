<!DOCTYPE html>
<html>

<head>
    <title>Photo</title>
    <link rel="stylesheet" href="photostyle.css"> <!-- Include external CSS file for styling -->

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet"> <!-- Preconnect to Google Fonts and include Playfair Display font -->

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet"> <!-- Preconnect to Google Fonts and include Montserrat font -->
</head>

<body>

    <header>
        <div class="bx bx-menu" id="menu-icon"></div>

        <ul class="navbar">
            <li><a href=/index.html>Home</a></li>
            <li><a href=/art.html>Art</a></li>
            <li><a href=/photo.html>Photo</a></li>
            <li><a href=/video.html>Video</a></li>
            <li><a href=/index.html#experience>Experience</a></li>
            <li><a href=/index.html#about>About</a></li>
            <!----<li><a href="#contact">Contact</a></li>--->
        </ul>
        <float id="theme-toggle" class="btn btn-link btn-sm ml-2 small btnimg" type="button">
        </float>
    </header>

    <div class="header">
        <h1>University of Utah RedZone Photography</h1> <!-- Page header -->
    </div>

    <div class="columns">
        <div class="container">
            <!-- Containers for Products 1 to 10 -->
            <div class="product-container" data-product="product1">
                <img src="img/products/product1/1.jpg" alt="Product 1" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product2">
                <img src="img/products/product2/1.jpg" alt="Product 2" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product3">
                <img src="img/products/product3/1.jpg" alt="Product 3" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product4">
                <img src="img/products/product4/1.jpg" alt="Product 4" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product5">
                <img src="img/products/product5/1.jpg" alt="Product 5" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product6">
                <img src="img/products/product6/1.jpg" alt="Product 6" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product7">
                <img src="img/products/product7/1.jpg" alt="Product 7" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product8">
                <img src="img/products/product8/1.jpg" alt="Product 8" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product9">
                <img src="img/products/product9/1.jpg" alt="Product 9" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product10">
                <img src="img/products/product10/1.jpg" alt="Product 10" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product11">
                <img src="img/products/product11/1.jpg" alt="Product 11" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product12">
                <img src="img/products/product12/1.jpg" alt="Product 12" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product13">
                <img src="img/products/product13/1.jpg" alt="Product 13" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product14">
                <img src="img/products/product14/1.jpg" alt="Product 14" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product15">
                <img src="img/products/product15/1.jpg" alt="Product 15" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product16">
                <img src="img/products/product16/1.jpg" alt="Product 16" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product17">
                <img src="img/products/product17/1.jpg" alt="Product 17" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product18">
                <img src="img/products/product18/1.jpg" alt="Product 18" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product19">
                <img src="img/products/product19/1.jpg" alt="Product 19" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product20">
                <img src="img/products/product20/1.jpg" alt="Product 20" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product21">
                <img src="img/products/product21/1.jpg" alt="Product 21" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product22">
                <img src="img/products/product22/1.jpg" alt="Product 22" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product23">
                <img src="img/products/product23/1.jpg" alt="Product 23" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product24">
                <img src="img/products/product24/1.jpg" alt="Product 24" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product25">
                <img src="img/products/product25/1.jpg" alt="Product 25" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product26">
                <img src="img/products/product26/1.jpg" alt="Product 26" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product27">
                <img src="img/products/product27/1.jpg" alt="Product 27" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product28">
                <img src="img/products/product28/1.jpg" alt="Product 28" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product29">
                <img src="img/products/product29/1.jpg" alt="Product 29" class="product-image" onclick="openModal(this)">
            </div>
            <div class="product-container" data-product="product30">
                <img src="img/products/product30/1.jpg" alt="Product 30" class="product-image" onclick="openModal(this)">
            </div>
        </div>
    </div>
    

        <!-- Modal Structure -->
        <div id="modal" class="modal" style="display: none;"> <!-- Modal for displaying product images -->
            <span class="close" onclick="closeModal()">&times;</span> <!-- Close button -->
            <div class="modal-content">
                <div id="modal-slides"></div> <!-- Container for product images -->
                <a class="prev" onclick="changeSlide(-1)">&#10094;</a> <!-- Previous image button -->
                <a class="next" onclick="changeSlide(1)">&#10095;</a> <!-- Next image button -->
            </div>
        </div>
        <div id="Background" class="modalbg" onclick="closeModal()"></div> <!-- Background overlay for closing the modal --> 
    </div>


<!---
    <div id="Lightbox" class="modal">
        <div class="modal-grid">
            <span class="close pointer" onclick="closeModal()">&times;</span>        Close button in lightbox view
            <div class="modal-content">
                <div class="slide">
                    <img id='setImg' class="image-slide" />
                </div>
                <div class="slide">
                    <img id='setImg-2' class="image-slide" />
                </div>
                <div class="slide">
                    <img id='setImg-3' class="image-slide" />
                </div>
                <a class="previous " onclick="changeSlide(-1)">&#10094;</a>  
                <a class="next " onclick="changeSlide(1)">&#10095;</a> 

                <div class="dots">
                    <div class="col">
                        <img id='setPrev' class="modal-preview hover-shadow" onclick="changeSlide(1)" />
                      
                    </div>
                    <div class="col">
                        <img id='setPrev-2' class="modal-preview hover-shadow" onclick="changeSlide(2)" />
                        
                    </div>
                    <div class="col">
                        <img id='setPrev-3' class="modal-preview hover-shadow" onclick="changeSlide(3)" />
                        
                    </div>
                </div>
            </div>
            <div class="modal-description">
                <div class="modal-description-grid">
                    <div class="modal-text">
                        <h4 class="sameline" id="setDate"></h4> 
                        <h2 id="setTitle" class="sameline"></h2> 
                        <br>
                        <br>
                        <p id="setText"></p>             Display image description
                    </div>
                </div>
            </div>
        </div>
    -->
    </div>

</body>

</html>

<!----lightbox script----->

<script>
    let currentProduct = ''; // Variable to store the current product being viewed
    let currentSlideIndex = 0; // Variable to store the current slide index
    let slides = []; // Array to store image URLs for the current product

    // Open modal with the clicked product's images
    function openModal(imgElement) {
        currentProduct = imgElement.closest('.product-container').dataset.product; // Get the product from the clicked image
        currentSlideIndex = 0; // Start at the first image
        displaySlides(currentProduct); // Display slides for the selected product
        document.getElementById('modal').style.display = 'flex'; // Display the modal
        document.getElementById('Background').style.display = 'flex'; // Display the background overlay
    }

    // Display all slides for a product
    function displaySlides(product) {
        const modalSlides = document.getElementById('modal-slides');
        modalSlides.innerHTML = ''; // Clear existing slides
        slides = getImagesForProduct(product); // Fetch all images for the product
        slides.forEach((src, index) => {
            let imgTag = document.createElement('img');
            imgTag.src = src;
            imgTag.onload = function () {
                let slideDiv = document.createElement('div');
                slideDiv.className = 'mySlides';
                slideDiv.style.display = 'none'; // Hide the slide by default
                slideDiv.appendChild(imgTag);
                modalSlides.appendChild(slideDiv);

                // If it's the first image, make it visible
                if (modalSlides.querySelectorAll('.mySlides').length === 1) {
                    slideDiv.style.display = 'block';
                }
            };
            imgTag.onerror = function () {
                console.error(`Failed to load image: ${src}`);
                // Remove the image URL from the slides array if it fails to load
                slides = slides.filter(slideSrc => slideSrc !== src);
            };
        });
    }

    // Fetch image URLs for a product
    function getImagesForProduct(product) {
        const images = [];
        for (let i = 1; i <= 100; i++) {
            images.push(`img/products/${product}/${i}.jpg`);
        }
        return images;
    }

    // Change slide (previous or next)
    function changeSlide(n) {
        let visibleSlides = document.querySelectorAll('.mySlides');

        // Find the currently visible slide
        let currentVisibleIndex = -1;
        for (let i = 0; i < visibleSlides.length; i++) {
            if (visibleSlides[i].style.display === 'block') {
                currentVisibleIndex = i;
                break;
            }
        }

        // If no visible slide is found, exit the function
        if (currentVisibleIndex === -1) return;

        // Hide the current slide
        visibleSlides[currentVisibleIndex].style.display = 'none';

        // Determine the next slide's index, accounting for looping
        let nextIndex = (currentVisibleIndex + n + visibleSlides.length) % visibleSlides.length;

        // Show the next slide
        visibleSlides[nextIndex].style.display = 'block';
    }

    // Close modal
    function closeModal() {
        document.getElementById('modal').style.display = 'none'; // Hide the modal
        document.getElementById('Background').style.display = 'none'; // Hide the background
    }

  //light mode and dark mode toggle
  var toggle = document.getElementById("theme-toggle");

var storedTheme = localStorage.getItem('theme') || (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");
if (storedTheme)
    document.documentElement.setAttribute('data-theme', storedTheme)


toggle.onclick = function() {
    var currentTheme = document.documentElement.getAttribute("data-theme");
    var targetTheme = "light";

    if (currentTheme === "light") {
        targetTheme = "dark";
    }

    document.documentElement.setAttribute('data-theme', targetTheme)
    localStorage.setItem('theme', targetTheme);

    checkbox.addEventListener( 'change', function() {
         localStorage.setItem('light',this.checked);
         if(this.checked) {
              body.classList.add('light')
         } else {
              body.classList.remove('light')     
         }
    });

};

//header scroll down disapear

var header = document.querySelector("header");
var navbarHeight = header.offsetHeight;
var lastScrollTop = 0;

window.onscroll = function() {scrollHide()};

function scrollHide() {
  var st = window.pageYOffset || document.documentElement.scrollTop;
  console.log(st);
  if (st > lastScrollTop) {
    header.classList.add('hide');
  } else {
    header.classList.remove('hide');
  }
  lastScrollTop = st <= 0 ? 0 : st;
}


</script>
